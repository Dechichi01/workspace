package com.pratica.seis.classes;

import java.util.ArrayList;

public abstract class FolhaPagamento {
	
	private static double totalFolha = 0;
	
	public static void somaFolha(ArrayList<? extends Funcionario> funcionarios)
	{
		totalFolha = 0;
		for(Funcionario func: funcionarios)
		{
			totalFolha += func.calcSalario();
			System.out.printf("\n Nome: %s\n Salario: %1.2f \n Categoria %s \n", 
					func.getNome(), func.calcSalario(), func.getClass().getName());
		}
	}
	
	public static double getTotalFolha()
	{
		return totalFolha;
	}
	
	public static double getTotalEncargos()
	{
		//Encargos = 33.78% sobre o salário
		return totalFolha*0.3378;
	}
	
	public static double calcIRRF(Funcionario f)
	{
		double salario = f.calcSalario();
		if (salario > 3000)
		{
			return salario*.275;
		}
		if (salario > 1500)
		{
			return salario*.015;
		}
		
		return 0;
	}
	
	public static double calcINSS(Funcionario f)
	{
		return f.calcSalario()*.11;
	}
	
	public static void gerarRelatorio(ArrayList<? extends Funcionario> funcionarios)
	{
		int i = 0;
		for (Funcionario f : funcionarios)
		{
			double salario = f.calcSalario();
			double irrf = calcIRRF(f);
			double inss = calcINSS(f);
			System.out.printf("##### Funcionario %d: \n", i);
			f.mostrarDados();
			System.out.println("Salário do funcionário: " + salario);
			System.out.println("IRRF a ser pago pelo funcionario: " + irrf);
			System.out.println("INSS a ser pago pelo funcionario: " + inss);
			System.out.println("Salário líquido: " + (salario - irrf - inss));
			i++;
			System.out.printf("\n\n\n");
		}
	}
}
